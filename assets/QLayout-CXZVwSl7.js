import{r as x,af as ie,o as $,k as D,n as V,t as le,D as Q,h as T,g as P,a6 as w,c as g,ab as _,w as R,q as E,C as de,ak as fe,Z as ve,al as me,i as he,l as j,m as re,Y as se,ai as pe,am as k,a as ge}from"./index-CuY54Jlx.js";import{j as we,p as ye,q as I,v as be,h as Te,e as Se}from"./QBtn-BCZP-88Z.js";function Le(){const e=x(!ie.value);return e.value===!1&&$(()=>{e.value=!0}),{isHydrated:e}}const ae=typeof ResizeObserver<"u",K=ae===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},Z=D({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let n=null,o,i={width:-1,height:-1};function c(l){l===!0||e.debounce===0||e.debounce==="0"?s():n===null&&(n=setTimeout(s,e.debounce))}function s(){if(n!==null&&(clearTimeout(n),n=null),o){const{offsetWidth:l,offsetHeight:a}=o;(l!==i.width||a!==i.height)&&(i={width:l,height:a},t("resize",i))}}const{proxy:d}=P();if(d.trigger=c,ae===!0){let l;const a=f=>{o=d.$el.parentNode,o?(l=new ResizeObserver(c),l.observe(o),s()):f!==!0&&Q(()=>{a(!0)})};return $(()=>{a()}),V(()=>{n!==null&&clearTimeout(n),l!==void 0&&(l.disconnect!==void 0?l.disconnect():o&&l.unobserve(o))}),le}else{let l=function(){n!==null&&(clearTimeout(n),n=null),v!==void 0&&(v.removeEventListener!==void 0&&v.removeEventListener("resize",c,w.passive),v=void 0)},a=function(){l(),o&&o.contentDocument&&(v=o.contentDocument.defaultView,v.addEventListener("resize",c,w.passive),s())};const{isHydrated:f}=Le();let v;return $(()=>{Q(()=>{o=d.$el,o&&a()})}),V(l),()=>{if(f.value===!0)return T("object",{class:"q--avoid-card-border",style:K.style,tabindex:-1,type:"text/html",data:K.url,"aria-hidden":"true",onLoad:a})}}}}),We={dark:{type:Boolean,default:null}};function ke(e,t){return g(()=>e.dark===null?t.dark.isActive:e.dark)}function Oe(e,t,n){let o;function i(){o!==void 0&&(_.remove(o),o=void 0)}return V(()=>{e.value===!0&&i()}),{removeFromHistory:i,addToHistory(){o={condition:()=>n.value===!0,handler:t},_.add(o)}}}const Ae={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Qe=["beforeShow","show","beforeHide","hide"];function De({showing:e,canShow:t,hideOnRouteChange:n,handleShow:o,handleHide:i,processOnMount:c}){const s=P(),{props:d,emit:l,proxy:a}=s;let f;function v(r){e.value===!0?S(r):y(r)}function y(r){if(d.disable===!0||r!==void 0&&r.qAnchorHandled===!0||t!==void 0&&t(r)!==!0)return;const b=d["onUpdate:modelValue"]!==void 0;b===!0&&(l("update:modelValue",!0),f=r,Q(()=>{f===r&&(f=void 0)})),(d.modelValue===null||b===!1)&&m(r)}function m(r){e.value!==!0&&(e.value=!0,l("beforeShow",r),o!==void 0?o(r):l("show",r))}function S(r){if(d.disable===!0)return;const b=d["onUpdate:modelValue"]!==void 0;b===!0&&(l("update:modelValue",!1),f=r,Q(()=>{f===r&&(f=void 0)})),(d.modelValue===null||b===!1)&&M(r)}function M(r){e.value!==!1&&(e.value=!1,l("beforeHide",r),i!==void 0?i(r):l("hide",r))}function W(r){d.disable===!0&&r===!0?d["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):r===!0!==e.value&&(r===!0?m:M)(f)}R(()=>d.modelValue,W),n!==void 0&&we(s)===!0&&R(()=>a.$route.fullPath,()=>{n.value===!0&&e.value===!0&&S()}),c===!0&&$(()=>{W(d.modelValue)});const H={show:y,hide:S,toggle:v};return Object.assign(a,H),H}const ze=[Element,String],xe=[null,document,document.body,document.scrollingElement,document.documentElement];function Ee(e,t){let n=ye(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return xe.includes(n)?window:n}function ue(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function ce(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let O;function Y(){if(O!==void 0)return O;const e=document.createElement("p"),t=document.createElement("div");I(e,{width:"100%",height:"200px"}),I(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let o=e.offsetWidth;return n===o&&(o=t.clientWidth),t.remove(),O=n-o,O}function Pe(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}let C=0,N,U,q,X=!1,G,J,ee,z=null;function He(e){Ce(e)&&de(e)}function Ce(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=fe(e),n=e.shiftKey&&!e.deltaX,o=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),i=n||o?e.deltaY:e.deltaX;for(let c=0;c<t.length;c++){const s=t[c];if(Pe(s,o))return o?i<0&&s.scrollTop===0?!0:i>0&&s.scrollTop+s.clientHeight===s.scrollHeight:i<0&&s.scrollLeft===0?!0:i>0&&s.scrollLeft+s.clientWidth===s.scrollWidth}return!0}function te(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function A(e){X!==!0&&(X=!0,requestAnimationFrame(()=>{X=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:o}=document.scrollingElement;(q===void 0||t!==window.innerHeight)&&(q=n-t,document.scrollingElement.scrollTop=o),o>q&&(document.scrollingElement.scrollTop-=Math.ceil((o-q)/8))}))}function oe(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:o,overflowX:i}=window.getComputedStyle(t);N=ce(window),U=ue(window),G=t.style.left,J=t.style.top,ee=window.location.href,t.style.left=`-${N}px`,t.style.top=`-${U}px`,i!=="hidden"&&(i==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),o!=="hidden"&&(o==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,E.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",A,w.passiveCapture),window.visualViewport.addEventListener("scroll",A,w.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",te,w.passiveCapture))}E.is.desktop===!0&&E.is.mac===!0&&window[`${e}EventListener`]("wheel",He,w.notPassive),e==="remove"&&(E.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",A,w.passiveCapture),window.visualViewport.removeEventListener("scroll",A,w.passiveCapture)):window.removeEventListener("scroll",te,w.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=G,t.style.top=J,window.location.href===ee&&window.scrollTo(N,U),q=void 0)}function qe(e){let t="add";if(e===!0){if(C++,z!==null){clearTimeout(z),z=null;return}if(C>1)return}else{if(C===0||(C--,C>0))return;if(t="remove",E.is.ios===!0&&E.is.nativeMobile===!0){z!==null&&clearTimeout(z),z=setTimeout(()=>{oe(t),z=null},100);return}}oe(t)}function Fe(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,qe(t))}}}function je(){let e=null;const t=P();function n(){e!==null&&(clearTimeout(e),e=null)}return ve(n),V(n),{removeTimeout:n,registerTimeout(o,i){n(),be(t)===!1&&(e=setTimeout(()=>{e=null,o()},i))}}}function Ye(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),me.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function Ne(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function Ue(e,t,n){if(n<=t)return t;const o=n-t+1;let i=t+(e-t)%o;return i<t&&(i=o+i),i===0?0:i}function Xe(e,t=2,n="0"){if(e==null)return e;const o=""+e;return o.length>=t?o:new Array(t-o.length+1).join(n)+o}const Be=D({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:n}}=P(),o=he(re,j);if(o===j)return console.error("QPageContainer needs to be child of QLayout"),j;se(pe,!0);const i=g(()=>{const c={};return o.header.space===!0&&(c.paddingTop=`${o.header.size}px`),o.right.space===!0&&(c[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(c.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(c[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),c});return()=>T("div",{class:"q-page-container",style:i.value},Te(t.default))}}),{passive:ne}=w,$e=["both","horizontal","vertical"],Ve=D({name:"QScrollObserver",props:{axis:{type:String,validator:e=>$e.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:ze},emits:["scroll"],setup(e,{emit:t}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,i,c;R(()=>e.scrollTarget,()=>{l(),d()});function s(){o!==null&&o();const v=Math.max(0,ue(i)),y=ce(i),m={top:v-n.position.top,left:y-n.position.left};if(e.axis==="vertical"&&m.top===0||e.axis==="horizontal"&&m.left===0)return;const S=Math.abs(m.top)>=Math.abs(m.left)?m.top<0?"up":"down":m.left<0?"left":"right";n.position={top:v,left:y},n.directionChanged=n.direction!==S,n.delta=m,n.directionChanged===!0&&(n.direction=S,n.inflectionPoint=n.position),t("scroll",{...n})}function d(){i=Ee(c,e.scrollTarget),i.addEventListener("scroll",a,ne),a(!0)}function l(){i!==void 0&&(i.removeEventListener("scroll",a,ne),i=void 0)}function a(v){if(v===!0||e.debounce===0||e.debounce==="0")s();else if(o===null){const[y,m]=e.debounce?[setTimeout(s,e.debounce),clearTimeout]:[requestAnimationFrame(s),cancelAnimationFrame];o=()=>{m(y),o=null}}}const{proxy:f}=P();return R(()=>f.$q.lang.rtl,s),$(()=>{c=f.$el.parentNode,d()}),V(()=>{o!==null&&o(),l()}),Object.assign(f,{trigger:a,getPosition:()=>n}),le}}),_e=D({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=P(),i=x(null),c=x(o.screen.height),s=x(e.container===!0?0:o.screen.width),d=x({position:0,direction:"down",inflectionPoint:0}),l=x(0),a=x(ie.value===!0?0:Y()),f=g(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),v=g(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),y=g(()=>a.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${a.value}px`}:null),m=g(()=>a.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${a.value}px`,width:`calc(100% + ${a.value}px)`}:null);function S(u){if(e.container===!0||document.qScrollPrevented!==!0){const h={position:u.position.top,direction:u.direction,directionChanged:u.directionChanged,inflectionPoint:u.inflectionPoint.top,delta:u.delta.top};d.value=h,e.onScroll!==void 0&&n("scroll",h)}}function M(u){const{height:h,width:L}=u;let p=!1;c.value!==h&&(p=!0,c.value=h,e.onScrollHeight!==void 0&&n("scrollHeight",h),H()),s.value!==L&&(p=!0,s.value=L),p===!0&&e.onResize!==void 0&&n("resize",u)}function W({height:u}){l.value!==u&&(l.value=u,H())}function H(){if(e.container===!0){const u=c.value>l.value?Y():0;a.value!==u&&(a.value=u)}}let r=null;const b={instances:{},view:g(()=>e.view),isContainer:g(()=>e.container),rootRef:i,height:c,containerHeight:l,scrollbarWidth:a,totalWidth:g(()=>s.value+a.value),rows:g(()=>{const u=e.view.toLowerCase().split(" ");return{top:u[0].split(""),middle:u[1].split(""),bottom:u[2].split("")}}),header:k({size:0,offset:0,space:!1}),right:k({size:300,offset:0,space:!1}),footer:k({size:0,offset:0,space:!1}),left:k({size:300,offset:0,space:!1}),scroll:d,animate(){r!==null?clearTimeout(r):document.body.classList.add("q-body--layout-animate"),r=setTimeout(()=>{r=null,document.body.classList.remove("q-body--layout-animate")},155)},update(u,h,L){b[u][h]=L}};if(se(re,b),Y()>0){let u=function(){p=null,F.classList.remove("hide-scrollbar")},h=function(){if(p===null){if(F.scrollHeight>o.screen.height)return;F.classList.add("hide-scrollbar")}else clearTimeout(p);p=setTimeout(u,300)},L=function(B){p!==null&&B==="remove"&&(clearTimeout(p),u()),window[`${B}EventListener`]("resize",h)},p=null;const F=document.body;R(()=>e.container!==!0?"add":"remove",L),e.container!==!0&&L("add"),ge(()=>{L("remove")})}return()=>{const u=Se(t.default,[T(Ve,{onScroll:S}),T(Z,{onResize:M})]),h=T("div",{class:f.value,style:v.value,ref:e.container===!0?void 0:i,tabindex:-1},u);return e.container===!0?T("div",{class:"q-layout-container overflow-hidden",ref:i},[T(Z,{onResize:W}),T("div",{class:"absolute-full",style:y.value},[T("div",{class:"scroll",style:m.value},[h])])]):h}}});export{Z as Q,We as a,Qe as b,Ye as c,ke as d,je as e,De as f,Oe as g,Ne as h,Fe as i,_e as j,Be as k,Ee as l,Y as m,Ue as n,Xe as p,ze as s,Ae as u};
